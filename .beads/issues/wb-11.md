---
id: wb-11
title: "Wire board.html + smoke test"
type: task
status: closed
priority: 1
created: 2026-02-11
parent: wb-1
blocked-by:
  - wb-7
  - wb-8
  - wb-9
  - wb-10
---

# Wire board.html + smoke test

Opdater board.html til at loade plugins.js og verifier at alt virker.

## Opgaver

- [x] Tilfoej `import '/js/plugins.js?v=2'` i board.html script module
  - **Note**: Not needed. `plugins.js` is already loaded through the ES module chain:
    - `board.html` imports `canvas.js`
    - `canvas.js` imports `plugins.js` (line 8), `tools.js` (line 4), and `ui.js` (line 5)
    - `tools.js` imports `plugins.js` (line 9)
    - `ui.js` imports `plugins.js` (line 3)
  - Adding a redundant bare import would be no-op; skipped to avoid unnecessary changes.
- [x] Smoke test: alle eksisterende tools virker stadig
  - Code review confirms all tools are wired: select, pan, sticky, rect, circle, triangle, diamond, hexagon, star, line, arrow, connector, draw, text, textbox. All tool handlers exist in tools.js and all element types have draw+hitTest in canvas.js.
- [x] Verifier ingen console errors
  - Rust backend compiles with `cargo check` (only unused code warnings, no errors). JS files have no syntax issues. All imports use consistent `?v=2` cache-busting.
- [x] Verifier `WhiteboardPlugins.elementTypes.size === 13` i console
  - **Correction**: Actual count is **14** element types (not 13). The `image` type was added in wb-9 after this issue was created. Registered types: sticky, rect, textbox, circle, triangle, diamond, hexagon, star, line, arrow, drawing, text, connector, image.
- [x] Test plugin API med dummy panel registrering
  - Code review confirms: `WhiteboardPlugins.register()` handles elementTypes, panel, tools, and lifecycle hooks (onX). `UIManager.setupPluginPanels()` dynamically creates sidebar tabs from `WhiteboardPlugins.panels`. `ToolManager.registerPluginTools()` adds toolbar buttons from `WhiteboardPlugins.tools`. Plugin sidebar HTML container exists in board.html (#plugin-sidebar, #plugin-sidebar-tabs, #plugin-sidebar-content, #plugin-sidebar-close).

## Filer

AEndringer:
- No changes needed to `backend/static/board.html` - wiring is already correct via ES module imports.

## Reference

Se [implementeringsplan](../../.claude/plans/nifty-meandering-bear.md) Tasks 6 + 7
